plugins {
    id 'groovy-gradle-plugin'
}

java {
    sourceCompatibility = JavaVersion.VERSION_1_8
    targetCompatibility = JavaVersion.VERSION_1_8
}

tasks.withType(JavaCompile) {
    if (JavaVersion.current() > JavaVersion.VERSION_1_10) {
        options.release = 8
    }
}

dependencies {
    constraints {
        implementation("com.github.siom79.japicmp:japicmp") {
            version { require "0.15.+" }
            because "Use a newer version than the japicmp gradle plugin provides"
        }
    }
    implementation gradleApi()
    api libs.build.indra
    api libs.build.licenser
    api libs.build.errorprone
    api libs.build.nullaway
    api libs.build.japicmp
    api libs.build.forbiddenApis
    api libs.build.goomph
    implementation libs.guava
}
